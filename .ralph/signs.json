{
  "signs": [
    {
      "id": "sign-001",
      "pattern": "NEVER hardcode AI model names (gpt-4, claude-3, gemini, etc) - always use environment variables or settings",
      "category": "backend",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-002",
      "pattern": "Use environment variables for all API keys and secrets, never hardcode them",
      "category": "general",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-003",
      "pattern": "Always handle loading, error, and empty states for async operations",
      "category": "frontend",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-004",
      "pattern": "ALWAYS transform API responses from snake_case to camelCase at the boundary. Create a transform function: `const user = { userName: data.user_name, createdAt: data.created_at }`. NEVER use snake_case properties directly in TypeScript code like `data.user_name` - always map to camelCase first.",
      "category": "frontend",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-005",
      "pattern": "Add data-testid attributes to interactive elements for Playwright e2e tests",
      "category": "frontend",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-006",
      "pattern": "Never use 'any' type in TypeScript - create proper interfaces and types instead",
      "category": "frontend",
      "learnedFrom": null,
      "createdAt": "2026-01-20T00:00:00-08:00"
    },
    {
      "id": "sign-007",
      "pattern": "When removing or modifying UI elements, grep for related tests and update them - stale tests that check for removed elements will fail",
      "category": "testing",
      "learnedFrom": null,
      "createdAt": "2026-01-25T00:00:00-08:00"
    },
    {
      "id": "sign-008",
      "pattern": "Never assign function results to variables in tests unless the variable is actually used — if you only need side effects, call the function directly without assignment to avoid unused-variable lint errors",
      "category": "testing",
      "learnedFrom": "TASK-004",
      "autoPromoted": true,
      "createdAt": "2026-02-11T17:22:32-08:00"
    },
    {
      "id": "sign-009",
      "pattern": "PRD test commands that use inline Python (`python -c`) must use `uv run python -c` to access project dependencies, and must avoid f-string bracket conflicts by using variables instead of dict key access inside f-strings (e.g., `a=r[0][\"key\"]; print(f\"{a}\")` not `print(f'{r[0][\"key\"]}')`).",
      "category": "backend",
      "learnedFrom": "TASK-006",
      "autoPromoted": true,
      "createdAt": "2026-02-11T18:23:42-08:00"
    },
    {
      "id": "sign-010",
      "pattern": "When PRD test steps verify a Next.js app builds (`npm run build`), also ensure the dev server is started before running frontend smoke tests — add `cd academy && npm run dev &` and a wait/health-check step, or use `next start` after build, so GET / doesn't 404.",
      "category": "frontend",
      "learnedFrom": "TASK-010",
      "autoPromoted": true,
      "createdAt": "2026-02-11T18:46:35-08:00"
    },
    {
      "id": "sign-011",
      "pattern": "PRD test steps that start a server on a specific port must first kill any existing process on that port (`lsof -ti:<port> | xargs kill -9 2>/dev/null;`) before launching, otherwise the test fails with \"address already in use\" even when the code is correct.",
      "category": "testing",
      "learnedFrom": "TASK-013",
      "autoPromoted": true,
      "createdAt": "2026-02-11T19:07:24-08:00"
    },
    {
      "id": "sign-012",
      "pattern": "When PRD smoke tests require both API and frontend servers, start each server in the background with port-kill cleanup, then health-check loop (`until curl -s http://localhost:<port> > /dev/null; do sleep 1; done`) before running smoke tests — never assume servers from a previous attempt are still running.",
      "category": "testing",
      "learnedFrom": "TASK-015",
      "autoPromoted": true,
      "createdAt": "2026-02-11T20:26:02-08:00"
    },
    {
      "id": "sign-013",
      "pattern": "When building dictionary literals, never duplicate key names — if a key is already set earlier in the dict (e.g. from a default or computed value), don't add it again with a different value; search for the key name in the dict before inserting.",
      "category": "backend",
      "learnedFrom": "TASK-018",
      "autoPromoted": true,
      "createdAt": "2026-02-12T12:56:48-08:00"
    },
    {
      "id": "sign-014",
      "pattern": "PRD test steps using `uv run python -c` with inline Python must avoid `try:` blocks and other compound statements on a single semicolon-separated line — Python's `-c` flag treats semicolons as simple statement separators and raises `SyntaxError` on compound statements. Split complex validation into a small test file or use `&&` to chain separate `python -c` calls instead.",
      "category": "testing",
      "learnedFrom": "TASK-020",
      "autoPromoted": true,
      "createdAt": "2026-02-12T13:03:19-08:00"
    },
    {
      "id": "sign-015",
      "pattern": "PRD test steps that curl a local service (e.g. `curl localhost:8917/health`) must ensure the service is running first — either start it in the background with a health-check loop (`until curl -s http://localhost:<port>/health > /dev/null; do sleep 1; done`) or skip the step when the service isn't expected to be running during CI/unit testing.",
      "category": "testing",
      "learnedFrom": "TASK-024",
      "autoPromoted": true,
      "createdAt": "2026-02-12T20:23:47-08:00"
    },
    {
      "id": "sign-016",
      "pattern": "PRD test steps must never hardcode an expected test count (`test 14 -eq`) — instead verify all tests pass with `uv run pytest <file> --tb=short` and check the exit code, or use `grep -c FAILED | xargs test 0 -eq` to assert zero failures.",
      "category": "testing",
      "learnedFrom": "TASK-026",
      "autoPromoted": true,
      "createdAt": "2026-02-12T20:32:24-08:00"
    },
    {
      "id": "sign-017",
      "pattern": "PRD test steps that check HTML page content with `grep` (e.g. `curl -s localhost/docs | grep -q 'FastAPI'`) are brittle because page content can change between framework versions or may be dynamically rendered — instead, verify the endpoint returns HTTP 200 with `curl -sf localhost/docs > /dev/null` or check the Content-Type header.",
      "category": "testing",
      "learnedFrom": "TASK-027",
      "autoPromoted": true,
      "createdAt": "2026-02-12T20:36:16-08:00"
    }
  ]
}
